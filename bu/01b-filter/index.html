<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Siuba tutorials - Siuba tutorials</title><meta name="gridsome:hash" content="b857f124226fd8ec7f753acf57fc5ebee1460dfe"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.13"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="og:url" name="og:url" content="undefined/"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/intro-to-siuba/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/intro-to-siuba/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/intro-to-siuba/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/intro-to-siuba/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/intro-to-siuba/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/intro-to-siuba/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/intro-to-siuba/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/intro-to-siuba/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/intro-to-siuba/assets/css/0.styles.d3b85204.css" as="style"><link rel="preload" href="/intro-to-siuba/assets/js/app.c87b5694.js" as="script"><link rel="preload" href="/intro-to-siuba/assets/js/page--src--templates--post-vue.6f0fa515.js" as="script"><link rel="preload" href="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--01-b-filter-md.6e56e207.js" as="script"><link rel="prefetch" href="/intro-to-siuba/assets/js/34.0ce7b9e6.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/35.055b07e7.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/page--node-modules--gridsome--app--pages--404-vue.c51d3015.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/page--src--pages--about-vue.8e4ea7cb.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/page--src--pages--index-vue.0e46a878.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/page--src--pages--slides-vue.8ed539a3.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/page--src--pages--test-vue.1eedb960.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--01-a-intro-data-science-md.08c9a918.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--01-c-arrange-md.3ffdd215.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--01-d-mutate-md.6e0d5cca.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--01-e-select-md.5715b06f.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--01-e-wrap-up-md.f9e2c180.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--02-a-intro-data-viz-md.71af1635.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--02-b-aesthetics-md.9d664ce7.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--02-c-facets-md.3ed69dd9.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--03-a-intro-to-summarize-md.f522913a.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--03-b-group-by-md.473deaf1.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--03-c-summary-viz-md.fab14259.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--index-md.27631fdd.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--demo--01-g-test-md.3b742c04.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--demo--01-minimal-code-md.41791116.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--demo--01-minimal-mcq-md.d3f5d695.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--demo--01-minimal-tags-md.925be8aa.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--01-a-intro-data-science-md.cf190d4a.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--01-b-filter-md.c5c4058b.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--01-c-arrange-md.92ddd1d9.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--01-d-mutate-md.7be685d8.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--01-f-wrap-up-md.d347f60b.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--01-intro-data-science-md.4d4f0395.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--index-md.252b0c0e.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--readme-md.1289326a.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--simple--01-intro-md.c7afccfb.js"><link rel="stylesheet" href="/intro-to-siuba/assets/css/0.styles.d3b85204.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout"><div class="center"><div class="left"><ul><li><h3>overview</h3></li><li><a href="/intro-to-siuba/intro-data-science/build/01-intro-data-science/">
                    Course welcome
                </a><!----></li></ul><ul><li><h3>basics</h3></li><li><a href="/intro-to-siuba/intro-data-science/build/01b-filter/">
                    Filter
                </a><!----></li><li><a href="/intro-to-siuba/intro-data-science/build/01c-arrange/">
                    Arrange
                </a><!----></li><li><a href="/intro-to-siuba/intro-data-science/build/01d-mutate/">
                    Mutate
                </a><!----></li><li><a href="/intro-to-siuba/intro-data-science/build/01f-wrap-up/">
                    Wrap up
                </a><!----></li></ul></div><div id="right" class="right"><div class="content"><h1>Filter</h1><div><div><h1 id="filter"><a href="#filter" aria-hidden="true"><span class="icon icon-link"></span></a>Filter</h1><details><div language="python" class="code-cell--container"><div class="top-bar"><div class="is-pulled-right"><!----><div class="v-spinner" style="display:none;"><div class="v-pulse v-pulse1" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.12s;"></div><div class="v-pulse v-pulse2" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.24s;"></div><div class="v-pulse v-pulse3" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.36s;"></div></div></div></div><div class="vue-codemirror"><textarea name="codemirror" placeholder=""></textarea></div><button>run</button><button>reset</button><div class="code-cell--output"><div></div><div class="container-editor container"></div></div></div></details><div><div class="reveal-container"><div class="reveal show-notes"><div class="slides"><section><section> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=inner_cell> <div class=input_area> <div class="highlight hl-ipython3"><pre><span></span><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
<span class=kn>from</span> <span class=nn>siuba</span> <span class=kn>import</span> <span class=n>arrange</span><span class=p>,</span> <span class=n>select</span><span class=p>,</span> <span class=n>mutate</span><span class=p>,</span> <span class=nb>filter</span><span class=p>,</span> <span class=n>_</span>
<span class=kn>from</span> <span class=nn>plotnine</span> <span class=kn>import</span> <span class=n>ggplot</span><span class=p>,</span> <span class=n>geom_point</span><span class=p>,</span> <span class=n>coord_flip</span><span class=p>,</span> <span class=n>aes</span><span class=p>,</span> <span class=n>labs</span>


<span class=n>to_keep</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;country&quot;</span><span class=p>,</span> <span class=s2>&quot;continent&quot;</span><span class=p>,</span> <span class=s2>&quot;position&quot;</span><span class=p>,</span> <span class=s2>&quot;artist&quot;</span><span class=p>,</span> <span class=s2>&quot;track_name&quot;</span><span class=p>,</span> <span class=s2>&quot;streams&quot;</span><span class=p>]</span>
<span class=n>fname</span> <span class=o>=</span> <span class=s2>&quot;/Users/machow/Dropbox/Repo/siublocks-org/intro-tidyverse/tutorial/music_top200.csv&quot;</span>
<span class=n>music_top200</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=n>fname</span><span class=p>)[</span><span class=n>to_keep</span><span class=p>]</span>

<span class=n>pd</span><span class=o>.</span><span class=n>set_option</span><span class=p>(</span><span class=s2>&quot;display.max_rows&quot;</span><span class=p>,</span> <span class=mi>6</span><span class=p>)</span>
</pre></div> </div> </div> </div> </div></section></section><section><section> <div class="cell border-box-sizing text_cell rendered"><div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h1 id=The-filter-verb>The filter verb<a class=anchor-link href=#The-filter-verb>&#182;</a></h1><p><img src=/intro-to-siuba/assets/img/model-filter.84c9d727.png alt=""></p> </div> </div> </div></section></section><section><section> <div class="cell border-box-sizing text_cell rendered"><div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=Filter-for-top-songs>Filter for top songs<a class=anchor-link href=#Filter-for-top-songs>&#182;</a></h2> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=inner_cell> <div class=input_area> <div class="highlight hl-ipython3"><pre><span></span><span class=p>(</span><span class=n>music_top200</span>
  <span class=o>&gt;&gt;</span> <span class=nb>filter</span><span class=p>(</span><span class=n>_</span><span class=o>.</span><span class=n>position</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span>
<span class=p>)</span>
</pre></div> </div> </div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_html rendered_html output_subarea output_execute_result"> <div> <style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style> <table border=1 class=dataframe> <thead> <tr style=text-align:right> <th></th> <th>country</th> <th>continent</th> <th>position</th> <th>artist</th> <th>track_name</th> <th>streams</th> </tr> </thead> <tbody> <tr> <th>0</th> <td>Argentina</td> <td>Americas</td> <td>1</td> <td>KAROL G</td> <td>Tusa</td> <td>1858666</td> </tr> <tr> <th>200</th> <td>Austria</td> <td>Europe</td> <td>1</td> <td>The Weeknd</td> <td>Blinding Lights</td> <td>229576</td> </tr> <tr> <th>400</th> <td>Australia</td> <td>Oceania</td> <td>1</td> <td>The Weeknd</td> <td>Blinding Lights</td> <td>1757343</td> </tr> <tr> <th>...</th> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> </tr> <tr> <th>11800</th> <td>Uruguay</td> <td>Americas</td> <td>1</td> <td>KAROL G</td> <td>Tusa</td> <td>120175</td> </tr> <tr> <th>12000</th> <td>Viet Nam</td> <td>Asia</td> <td>1</td> <td>V</td> <td>Sweet Night</td> <td>189261</td> </tr> <tr> <th>12200</th> <td>South Africa</td> <td>Africa</td> <td>1</td> <td>Roddy Ricch</td> <td>The Box</td> <td>94422</td> </tr> </tbody> </table> <p>62 rows × 6 columns</p> </div> </div> </div> </div> </div> </div></section></section><section><section> <div class="cell border-box-sizing text_cell rendered"><div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=Filter-for-country>Filter for country<a class=anchor-link href=#Filter-for-country>&#182;</a></h2> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=inner_cell> <div class=input_area> <div class="highlight hl-ipython3"><pre><span></span><span class=p>(</span><span class=n>music_top200</span>
  <span class=o>&gt;&gt;</span> <span class=nb>filter</span><span class=p>(</span><span class=n>_</span><span class=o>.</span><span class=n>country</span> <span class=o>==</span> <span class=s2>&quot;Hong Kong&quot;</span><span class=p>)</span>
<span class=p>)</span>
</pre></div> </div> </div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_html rendered_html output_subarea output_execute_result"> <div> <style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style> <table border=1 class=dataframe> <thead> <tr style=text-align:right> <th></th> <th>country</th> <th>continent</th> <th>position</th> <th>artist</th> <th>track_name</th> <th>streams</th> </tr> </thead> <tbody> <tr> <th>4800</th> <td>Hong Kong</td> <td>Asia</td> <td>1</td> <td>ITZY</td> <td>WANNABE</td> <td>112648</td> </tr> <tr> <th>4801</th> <td>Hong Kong</td> <td>Asia</td> <td>2</td> <td>Justin Bieber</td> <td>Intentions (feat. Quavo)</td> <td>104467</td> </tr> <tr> <th>4802</th> <td>Hong Kong</td> <td>Asia</td> <td>3</td> <td>Shawn Mendes</td> <td>Señorita</td> <td>84196</td> </tr> <tr> <th>...</th> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> <td>...</td> </tr> <tr> <th>4997</th> <td>Hong Kong</td> <td>Asia</td> <td>198</td> <td>高爾宣 OSN</td> <td>Without You</td> <td>19956</td> </tr> <tr> <th>4998</th> <td>Hong Kong</td> <td>Asia</td> <td>199</td> <td>Charlie Puth</td> <td>Attention</td> <td>19872</td> </tr> <tr> <th>4999</th> <td>Hong Kong</td> <td>Asia</td> <td>200</td> <td>Taylor Swift</td> <td>The Man</td> <td>19868</td> </tr> </tbody> </table> <p>200 rows × 6 columns</p> </div> </div> </div> </div> </div> </div></section></section><section><section> <div class="cell border-box-sizing text_cell rendered"><div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=Filter-with-two-variables>Filter with two variables<a class=anchor-link href=#Filter-with-two-variables>&#182;</a></h2> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=inner_cell> <div class=input_area> <div class="highlight hl-ipython3"><pre><span></span><span class=p>(</span><span class=n>music_top200</span>
  <span class=o>&gt;&gt;</span> <span class=nb>filter</span><span class=p>(</span><span class=n>_</span><span class=o>.</span><span class=n>artist</span> <span class=o>==</span> <span class=s2>&quot;Roddy Ricch&quot;</span><span class=p>,</span> <span class=n>_</span><span class=o>.</span><span class=n>position</span> <span class=o>==</span> <span class=mi>3</span><span class=p>)</span>
<span class=p>)</span>
</pre></div> </div> </div> </div> <div class=output_wrapper> <div class=output> <div class=output_area> <div class="output_html rendered_html output_subarea output_execute_result"> <div> <style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style> <table border=1 class=dataframe> <thead> <tr style=text-align:right> <th></th> <th>country</th> <th>continent</th> <th>position</th> <th>artist</th> <th>track_name</th> <th>streams</th> </tr> </thead> <tbody> <tr> <th>4402</th> <td>United Kingdom</td> <td>Europe</td> <td>3</td> <td>Roddy Ricch</td> <td>The Box</td> <td>2711921</td> </tr> <tr> <th>4602</th> <td>Greece</td> <td>Europe</td> <td>3</td> <td>Roddy Ricch</td> <td>The Box</td> <td>139125</td> </tr> <tr> <th>5602</th> <td>Ireland</td> <td>Europe</td> <td>3</td> <td>Roddy Ricch</td> <td>The Box</td> <td>351836</td> </tr> <tr> <th>6802</th> <td>Lithuania</td> <td>Europe</td> <td>3</td> <td>Roddy Ricch</td> <td>The Box</td> <td>35134</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div></section></section> </div></div></div></div>
### Exercise 1: 
<ul><li>replace name in filter, who is the top artist? How many streams do they have?</li></ul><div language="python" class="code-cell--container"><div class="top-bar"><div class="is-pulled-right"><!----><div class="v-spinner" style="display:none;"><div class="v-pulse v-pulse1" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.12s;"></div><div class="v-pulse v-pulse2" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.24s;"></div><div class="v-pulse v-pulse3" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.36s;"></div></div></div></div><div class="vue-codemirror"><textarea name="codemirror" placeholder=""></textarea></div><button>run</button><button>reset</button><div class="code-cell--output"><div><table border="1" class="dataframe"><thead><tr style="text-align:right;"><th></th><th>country</th><th>country_code</th><th>position</th><th>track_name</th><th>artist</th><th>streams</th><th>duration_ms</th></tr></thead><tbody><tr><th>7817</th><td>Mexico</td><td>mx</td><td>1</td><td>Safaera</td><td>Bad Bunny</td><td>7948565</td><td>295177.0</td></tr><tr><th>7818</th><td>Mexico</td><td>mx</td><td>2</td><td>Si Veo a Tu Mamá</td><td>Bad Bunny</td><td>7535381</td><td>170972.0</td></tr><tr><th>7819</th><td>Mexico</td><td>mx</td><td>3</td><td>La Difícil</td><td>Bad Bunny</td><td>5459673</td><td>163084.0</td></tr><tr><th>...</th><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><th>8014</th><td>Mexico</td><td>mx</td><td>198</td><td>Vete Ya</td><td>Valentín Elizalde</td><td>559399</td><td>157760.0</td></tr><tr><th>8015</th><td>Mexico</td><td>mx</td><td>199</td><td>El Mundo a Tus Pies</td><td>Grupo Firme</td><td>559065</td><td>176227.0</td></tr><tr><th>8016</th><td>Mexico</td><td>mx</td><td>200</td><td>Verte Ir</td><td>DJ Luian</td><td>558925</td><td>267500.0</td></tr></tbody></table></div><div class="container-editor container"></div></div></div><h3 id="exercise-2"><a href="#exercise-2" aria-hidden="true"><span class="icon icon-link"></span></a>Exercise 2:</h3><ul><li>Filter to keep songs in the 5th <code>position</code>.</li></ul><div language="python" class="code-cell--container"><div class="top-bar"><div class="is-pulled-right"><!----><div class="v-spinner" style="display:none;"><div class="v-pulse v-pulse1" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.12s;"></div><div class="v-pulse v-pulse2" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.24s;"></div><div class="v-pulse v-pulse3" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.36s;"></div></div></div></div><div class="vue-codemirror"><textarea name="codemirror" placeholder=""></textarea></div><button>run</button><button>reset</button><div class="code-cell--output"><div><p>⚠️: <b>Don't forget to replace all the blanks!</b></p></div><div class="container-editor container"></div></div></div><p>TODO: MCQ - Which artist does it say is 5th in the UK?</p><h3 id="exercise-3"><a href="#exercise-3" aria-hidden="true"><span class="icon icon-link"></span></a>Exercise 3:</h3><ul><li>What are the top 5 songs in the United States?</li></ul><div language="python" class="code-cell--container"><div class="top-bar"><div class="is-pulled-right"><!----><div class="v-spinner" style="display:none;"><div class="v-pulse v-pulse1" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.12s;"></div><div class="v-pulse v-pulse2" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.24s;"></div><div class="v-pulse v-pulse3" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.36s;"></div></div></div></div><div class="vue-codemirror"><textarea name="codemirror" placeholder=""></textarea></div><button>run</button><button>reset</button><div class="code-cell--output"><div><p>⚠️: <b>Don't forget to replace all the blanks!</b></p></div><div class="container-editor container"></div></div></div><h3 id="exercise-4-looking-at-the-weeknds-streams"><a href="#exercise-4-looking-at-the-weeknds-streams" aria-hidden="true"><span class="icon icon-link"></span></a>Exercise 4: looking at The Weeknd's streams</h3><p>How many times has The Weeknd had over 1,000,000 streams?</p><details><summary>Hint:</summary>
    Do in steps. Run first to get all rows where the artist is The Weeknd, and then modify your code to get where he has over 1,000,000 streams.
</details><div language="python" class="code-cell--container"><div class="top-bar"><div class="is-pulled-right"><!----><div class="v-spinner" style="display:none;"><div class="v-pulse v-pulse1" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.12s;"></div><div class="v-pulse v-pulse2" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.24s;"></div><div class="v-pulse v-pulse3" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.36s;"></div></div></div></div><div class="vue-codemirror"><textarea name="codemirror" placeholder=""></textarea></div><button>run</button><button>reset</button><div class="code-cell--output"><div><pre class="language-text"><code class="language-text">()</code></pre></div><div class="container-editor container"></div></div></div><details><summary>debug</summary><button>create</button><br>
    setup code: <br><br>
    settings: {}<br>
    status: <br>
    kernel status: <br>
    phase: <br></details></div></div><div><a href="/intro-to-siuba/bu/01b-filter" class="active--exact active">prev page</a><a href="/intro-to-siuba/bu/01b-filter" class="active--exact active">next page</a></div></div></div></div></div>
    <script>window.__INITIAL_STATE__={"data":{"metadata":{"siteName":"Siuba tutorials","siteDescription":""},"post":{"id":"d305fd1cb7451c6c52ef4ddce237b3a2","title":"Filter","content":"\n\u003CNotebook\n  v-slot=\"nb\"\n  branch=\"master\"\n  repo=\"machow\u002Fpurview\"\n  url=\"https:\u002F\u002Fmybinder.org\"\n  useBinder=\"1\"\n  \u003E\n\n\n# Filter\n\n\n\u003Cdetails v-fix-codemirror\u003E\n\u003Ccode-cell  :status=\"nb.status\" :onExecute=\"nb.execute\" :onReady=\"nb.updateSetupCode\" language=\"python\"\u003E\n\n\n    # TODO: explain how to run this, and that they only need the gist (loads tools)\n    import pandas as pd\n    from siuba import arrange, select, mutate, filter, _\n    from plotnine import ggplot, geom_point, coord_flip, aes, labs\n    \n    # temporary until I figure out where to put data\n    cols_to_drop = [\"track_id\", \"\"]\n    url = \"https:\u002F\u002Fsiublocks.s3.us-east-2.amazonaws.com\u002Fmusic_top200.csv\"\n    music_top200 = pd.read_csv(url)[[\"country\", \"country_code\", \"position\", \"track_name\", \"artist\", \"streams\", \"duration_ms\"]]\n    \n    # tracks\n    track_features = pd.read_csv(\"\u002FUsers\u002Fmachow\u002FDropbox\u002FRepo\u002Fsiublocks-org\u002Fintro-tidyverse\u002Ftutorial\u002Ftrack_features.csv\")\n    \n    # TODO: shift into a package or file\n    from siuba import pipe\n    from IPython.display import HTML, display\n    from siututor import Blank\n    ___ = Blank()\n    \n    pd.set_option(\"display.max_rows\", 6)\n    \n    from IPython import get_ipython\n    # special ipython function to get the html formatter\n    html_formatter = get_ipython().display_formatter.formatters['text\u002Fhtml']\n    \n    # when you see a Shout object, call the shout_html function on it\n    html_formatter.for_type(pd.DataFrame, lambda df: df.to_html(max_rows = pd.get_option(\"display.max_rows\")))\n\n\n\n\n\u003C\u002Fcode-cell\u003E\n\u003C\u002Fdetails\u003E\n\nimport slides from '.\u002Fslides\u002F01-slides-code.html'\n\n\u003CRevealSlides :slides=\"slides\" \u002F\u003E\n### Exercise 1: \n\n* replace name in filter, who is the top artist? How many streams do they have?\n\n\u003Ccode-cell  :status=\"nb.status\" :onExecute=\"nb.execute\"  language=\"python\"\u003E\n\n\n    (music_top200\n      \u003E\u003E filter(_.country == \"Mexico\")\n    )\n\n\n\u003Ctemplate v-slot:output\u003E\n\n\n\n\n\u003Ctable border=\"1\" class=\"dataframe\"\u003E\n  \u003Cthead\u003E\n    \u003Ctr style=\"text-align: right;\"\u003E\n      \u003Cth\u003E\u003C\u002Fth\u003E\n      \u003Cth\u003Ecountry\u003C\u002Fth\u003E\n      \u003Cth\u003Ecountry_code\u003C\u002Fth\u003E\n      \u003Cth\u003Eposition\u003C\u002Fth\u003E\n      \u003Cth\u003Etrack_name\u003C\u002Fth\u003E\n      \u003Cth\u003Eartist\u003C\u002Fth\u003E\n      \u003Cth\u003Estreams\u003C\u002Fth\u003E\n      \u003Cth\u003Eduration_ms\u003C\u002Fth\u003E\n    \u003C\u002Ftr\u003E\n  \u003C\u002Fthead\u003E\n  \u003Ctbody\u003E\n    \u003Ctr\u003E\n      \u003Cth\u003E7817\u003C\u002Fth\u003E\n      \u003Ctd\u003EMexico\u003C\u002Ftd\u003E\n      \u003Ctd\u003Emx\u003C\u002Ftd\u003E\n      \u003Ctd\u003E1\u003C\u002Ftd\u003E\n      \u003Ctd\u003ESafaera\u003C\u002Ftd\u003E\n      \u003Ctd\u003EBad Bunny\u003C\u002Ftd\u003E\n      \u003Ctd\u003E7948565\u003C\u002Ftd\u003E\n      \u003Ctd\u003E295177.0\u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n    \u003Ctr\u003E\n      \u003Cth\u003E7818\u003C\u002Fth\u003E\n      \u003Ctd\u003EMexico\u003C\u002Ftd\u003E\n      \u003Ctd\u003Emx\u003C\u002Ftd\u003E\n      \u003Ctd\u003E2\u003C\u002Ftd\u003E\n      \u003Ctd\u003ESi Veo a Tu Mamá\u003C\u002Ftd\u003E\n      \u003Ctd\u003EBad Bunny\u003C\u002Ftd\u003E\n      \u003Ctd\u003E7535381\u003C\u002Ftd\u003E\n      \u003Ctd\u003E170972.0\u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n    \u003Ctr\u003E\n      \u003Cth\u003E7819\u003C\u002Fth\u003E\n      \u003Ctd\u003EMexico\u003C\u002Ftd\u003E\n      \u003Ctd\u003Emx\u003C\u002Ftd\u003E\n      \u003Ctd\u003E3\u003C\u002Ftd\u003E\n      \u003Ctd\u003ELa Difícil\u003C\u002Ftd\u003E\n      \u003Ctd\u003EBad Bunny\u003C\u002Ftd\u003E\n      \u003Ctd\u003E5459673\u003C\u002Ftd\u003E\n      \u003Ctd\u003E163084.0\u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n    \u003Ctr\u003E\n      \u003Cth\u003E...\u003C\u002Fth\u003E\n      \u003Ctd\u003E...\u003C\u002Ftd\u003E\n      \u003Ctd\u003E...\u003C\u002Ftd\u003E\n      \u003Ctd\u003E...\u003C\u002Ftd\u003E\n      \u003Ctd\u003E...\u003C\u002Ftd\u003E\n      \u003Ctd\u003E...\u003C\u002Ftd\u003E\n      \u003Ctd\u003E...\u003C\u002Ftd\u003E\n      \u003Ctd\u003E...\u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n    \u003Ctr\u003E\n      \u003Cth\u003E8014\u003C\u002Fth\u003E\n      \u003Ctd\u003EMexico\u003C\u002Ftd\u003E\n      \u003Ctd\u003Emx\u003C\u002Ftd\u003E\n      \u003Ctd\u003E198\u003C\u002Ftd\u003E\n      \u003Ctd\u003EVete Ya\u003C\u002Ftd\u003E\n      \u003Ctd\u003EValentín Elizalde\u003C\u002Ftd\u003E\n      \u003Ctd\u003E559399\u003C\u002Ftd\u003E\n      \u003Ctd\u003E157760.0\u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n    \u003Ctr\u003E\n      \u003Cth\u003E8015\u003C\u002Fth\u003E\n      \u003Ctd\u003EMexico\u003C\u002Ftd\u003E\n      \u003Ctd\u003Emx\u003C\u002Ftd\u003E\n      \u003Ctd\u003E199\u003C\u002Ftd\u003E\n      \u003Ctd\u003EEl Mundo a Tus Pies\u003C\u002Ftd\u003E\n      \u003Ctd\u003EGrupo Firme\u003C\u002Ftd\u003E\n      \u003Ctd\u003E559065\u003C\u002Ftd\u003E\n      \u003Ctd\u003E176227.0\u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n    \u003Ctr\u003E\n      \u003Cth\u003E8016\u003C\u002Fth\u003E\n      \u003Ctd\u003EMexico\u003C\u002Ftd\u003E\n      \u003Ctd\u003Emx\u003C\u002Ftd\u003E\n      \u003Ctd\u003E200\u003C\u002Ftd\u003E\n      \u003Ctd\u003EVerte Ir\u003C\u002Ftd\u003E\n      \u003Ctd\u003EDJ Luian\u003C\u002Ftd\u003E\n      \u003Ctd\u003E558925\u003C\u002Ftd\u003E\n      \u003Ctd\u003E267500.0\u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n  \u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\n\n\n\u003C\u002Ftemplate\u003E\n\n\u003C\u002Fcode-cell\u003E\n\n\n### Exercise 2: \n\n* Filter to keep songs in the 5th `position`.\n\n\u003Ccode-cell  :status=\"nb.status\" :onExecute=\"nb.execute\"  language=\"python\"\u003E\n\n\n    (music_top200\n      \u003E\u003E filter(___)\n    )\n\n\n\u003Ctemplate v-slot:output\u003E\n\n\n\n\n⚠️: \u003Cb\u003EDon't forget to replace all the blanks!\u003C\u002Fb\u003E\n\n\n\n\u003C\u002Ftemplate\u003E\n\n\u003C\u002Fcode-cell\u003E\n\n\nTODO: MCQ - Which artist does it say is 5th in the UK?\n\n### Exercise 3:\n\n* What are the top 5 songs in the United States?\n\n\u003Ccode-cell  :status=\"nb.status\" :onExecute=\"nb.execute\"  language=\"python\"\u003E\n\n\n    (music_top200\n      \u003E\u003E filter(___, ___)\n    )\n\n\n\u003Ctemplate v-slot:output\u003E\n\n\n\n\n⚠️: \u003Cb\u003EDon't forget to replace all the blanks!\u003C\u002Fb\u003E\n\n\n\n\u003C\u002Ftemplate\u003E\n\n\u003C\u002Fcode-cell\u003E\n\n\n### Exercise 4: looking at The Weeknd's streams\n\nHow many times has The Weeknd had over 1,000,000 streams?\n\n\u003Cdetails\u003E\n    \u003Csummary\u003EHint:\u003C\u002Fsummary\u003E\n    Do in steps. Run first to get all rows where the artist is The Weeknd, and then modify your code to get where he has over 1,000,000 streams.\n\u003C\u002Fdetails\u003E\n\n\u003Ccode-cell  :status=\"nb.status\" :onExecute=\"nb.execute\"  language=\"python\"\u003E\n\n\n    (\n    \n    )\n\n\n\u003Ctemplate v-slot:output\u003E\n\n\n\n\n    ()\n\n\n\n\u003C\u002Ftemplate\u003E\n\n\u003C\u002Fcode-cell\u003E\n\n\n\n\u003C\u002FNotebook\u003E\n\n","chunk":"basics"},"allPosts":{"edges":[{"node":{"id":"c07baa2fd37433b322b7f771f1fbf360","path":"\u002Fintro-data-science\u002F","title":"","chunk":"","headings":[],"fileInfo":{"directory":"intro-data-science"}},"next":{"path":"\u002Fintro-data-science\u002Fbuild\u002F01-intro-data-science\u002F"},"previous":null},{"node":{"id":"652e7785105c1207d315c249131f5b7f","path":"\u002Fintro-data-science\u002Fbuild\u002F01-intro-data-science\u002F","title":"Course welcome","chunk":"overview","headings":[],"fileInfo":{"directory":"intro-data-science\u002Fbuild"}},"next":{"path":"\u002Fintro-data-science\u002Fbuild\u002F01b-filter\u002F"},"previous":{"path":"\u002Fintro-data-science\u002F"}},{"node":{"id":"ba1582d1c6d27a522e11b03b97dff7b9","path":"\u002Fintro-data-science\u002Fbuild\u002F01b-filter\u002F","title":"Filter","chunk":"basics","headings":[],"fileInfo":{"directory":"intro-data-science\u002Fbuild"}},"next":{"path":"\u002Fintro-data-science\u002Fbuild\u002F01c-arrange\u002F"},"previous":{"path":"\u002Fintro-data-science\u002Fbuild\u002F01-intro-data-science\u002F"}},{"node":{"id":"ad19f602c352dfe1d79fefe29da15f7d","path":"\u002Fintro-data-science\u002Fbuild\u002F01c-arrange\u002F","title":"Arrange","chunk":"basics","headings":[],"fileInfo":{"directory":"intro-data-science\u002Fbuild"}},"next":{"path":"\u002Fintro-data-science\u002Fbuild\u002F01d-mutate\u002F"},"previous":{"path":"\u002Fintro-data-science\u002Fbuild\u002F01b-filter\u002F"}},{"node":{"id":"ab23fa24aeb29459d678ca42733d0864","path":"\u002Fintro-data-science\u002Fbuild\u002F01d-mutate\u002F","title":"Mutate","chunk":"basics","headings":[],"fileInfo":{"directory":"intro-data-science\u002Fbuild"}},"next":{"path":"\u002Fintro-data-science\u002Fbuild\u002F01f-wrap-up\u002F"},"previous":{"path":"\u002Fintro-data-science\u002Fbuild\u002F01c-arrange\u002F"}},{"node":{"id":"cce2a731d9223cc9c35f6ffb69ea5176","path":"\u002Fintro-data-science\u002Fbuild\u002F01f-wrap-up\u002F","title":"Wrap up","chunk":"basics","headings":[{"value":"Putting it together","anchor":"#putting-it-together"},{"value":"Exercises","anchor":"#exercises"}],"fileInfo":{"directory":"intro-data-science\u002Fbuild"}},"next":{"path":"\u002Fintro-data-science\u002Freadme\u002F"},"previous":{"path":"\u002Fintro-data-science\u002Fbuild\u002F01d-mutate\u002F"}},{"node":{"id":"8b3cd3b360b88a353088b673cfcd8a66","path":"\u002Fintro-data-science\u002Freadme\u002F","title":"","chunk":"","headings":[],"fileInfo":{"directory":"intro-data-science"}},"next":null,"previous":{"path":"\u002Fintro-data-science\u002Fbuild\u002F01f-wrap-up\u002F"}}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/intro-to-siuba/assets/js/app.c87b5694.js" defer></script><script src="/intro-to-siuba/assets/js/page--src--templates--post-vue.6f0fa515.js" defer></script><script src="/intro-to-siuba/assets/js/vue-remark--tutorial--bu--01-b-filter-md.6e56e207.js" defer></script>
  </body>
</html>
