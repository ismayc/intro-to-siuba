{"hash":"05b9ce112ea9d60ad5aa941683300f6ea20a4f15","data":{"metadata":{"siteName":"Siuba tutorials","siteDescription":""},"post":{"id":"652e7785105c1207d315c249131f5b7f","title":"Course welcome","content":"\n<Notebook\n  v-slot=\"nb\"\n  branch=\"master\"\n  repo=\"machow/purview\"\n  url=\"https://mybinder.org\"\n  useBinder=\"1\"\n  useStorage=\"1\"\n  >\n\n\n<details v-fix-codemirror v-show=\"nb.debut\">\n<code-cell  :status=\"nb.status\" :onExecute=\"nb.execute\" :onReady=\"nb.updateSetupCode\" language=\"python\">\n\n\n    \n    # TODO: explain how to run this, and that they only need the gist (loads tools)\n    import pandas as pd\n    from siuba import arrange, select, mutate, filter, _\n    from plotnine import ggplot, geom_point, coord_flip, aes, labs, geom_text\n    \n    # temporary until I figure out where to put data\n    fname = \"https://siublocks.s3.us-east-2.amazonaws.com/course-data/music200.csv\"\n    music_top200 = pd.read_csv(fname)\n    \n    # tracks\n    fname = \"https://siublocks.s3.us-east-2.amazonaws.com/course-data/track_features.csv\"\n    track_features = pd.read_csv(fname)\n    \n    # TODO: shift into a package or file\n    from siuba import pipe\n    from IPython.display import HTML, display\n    ___ = pipe(lambda x: display(HTML(\"⚠️: <b>Don't forget to replace all the blanks!<b>\")) and _)\n    \n    pd.set_option(\"display.max_rows\", 6)\n    \n    from IPython import get_ipython\n    # special ipython function to get the html formatter\n    html_formatter = get_ipython().display_formatter.formatters['text/html']\n    \n    # when you see a Shout object, call the shout_html function on it\n    html_formatter.for_type(pd.DataFrame, lambda df: df.to_html(classes = \"dataframe\", max_rows = pd.get_option(\"display.max_rows\")))\n\n\n\n\n</code-cell>\n</details>\n\nimport slides from '../slides/00-slides.markdown'\n\n<RevealSlides :slides=\"slides\" />\n\n\n### Exercise 1: inspecting music data\nimport CodeCellTemplater from '~/components/Cell/CodeCellTemplater.vue'\n\n<CodeCellTemplater\n    :templateVars=\"$frontmatter.exercise_pars[0]\"\n    :status=\"nb.status\" :onExecute=\"nb.execute\" language=\"python\"\n    >\n\n    (music_top200\n      >> filter(_.country == \"${this.country}\")\n    )\n\n\n<template v-slot:output>\n<table border=\"1\" class=\"dataframe dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>country</th>\n      <th>position</th>\n      <th>track_name</th>\n      <th>artist</th>\n      <th>streams</th>\n      <th>duration</th>\n      <th>continent</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>7800</th>\n      <td>United States</td>\n      <td>1</td>\n      <td>The Box</td>\n      <td>Roddy Ricch</td>\n      <td>12987027</td>\n      <td>196.653</td>\n      <td>Americas</td>\n    </tr>\n    <tr>\n      <th>7801</th>\n      <td>United States</td>\n      <td>2</td>\n      <td>Myron</td>\n      <td>Lil Uzi Vert</td>\n      <td>9163134</td>\n      <td>224.955</td>\n      <td>Americas</td>\n    </tr>\n    <tr>\n      <th>7802</th>\n      <td>United States</td>\n      <td>3</td>\n      <td>Blueberry Faygo</td>\n      <td>Lil Mosey</td>\n      <td>8043475</td>\n      <td>162.547</td>\n      <td>Americas</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>7997</th>\n      <td>United States</td>\n      <td>198</td>\n      <td>Lights Up</td>\n      <td>Harry Styles</td>\n      <td>1606234</td>\n      <td>172.227</td>\n      <td>Americas</td>\n    </tr>\n    <tr>\n      <th>7998</th>\n      <td>United States</td>\n      <td>199</td>\n      <td>Without Me</td>\n      <td>Halsey</td>\n      <td>1606153</td>\n      <td>201.661</td>\n      <td>Americas</td>\n    </tr>\n    <tr>\n      <th>7999</th>\n      <td>United States</td>\n      <td>200</td>\n      <td>Enemies (feat. DaBaby)</td>\n      <td>Post Malone</td>\n      <td>1597824</td>\n      <td>196.760</td>\n      <td>Americas</td>\n    </tr>\n  </tbody>\n</table>\n</template>\n\n</CodeCellTemplater>\n\n### Exercise 2: inspecting `track_features` data\n<CodeCellTemplater\n    :templateVars=\"$frontmatter.exercise_pars[1]\"\n    :status=\"nb.status\" :onExecute=\"nb.execute\" language=\"python\"\n    >\n\n    (track_features\n      >> arrange(${this.arrangeVar})\n      >> filter(_.artist == \"${this.artist}\")\n    )\n    \n<template v-slot:output>\n\n\n<table border=\"1\" class=\"dataframe dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>artist</th>\n      <th>album</th>\n      <th>track_name</th>\n      <th>energy</th>\n      <th>valence</th>\n      <th>danceability</th>\n      <th>speechiness</th>\n      <th>acousticness</th>\n      <th>popularity</th>\n      <th>duration</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>22431</th>\n      <td>The Weeknd</td>\n      <td>After Hours (Deluxe)</td>\n      <td>Missed You - Bonus Track</td>\n      <td>0.364</td>\n      <td>0.4480</td>\n      <td>0.716</td>\n      <td>0.0866</td>\n      <td>0.10700</td>\n      <td>48</td>\n      <td>144.540</td>\n    </tr>\n    <tr>\n      <th>3889</th>\n      <td>The Weeknd</td>\n      <td>After Hours (Deluxe)</td>\n      <td>Nothing Compares - Bonus Track</td>\n      <td>0.577</td>\n      <td>0.0398</td>\n      <td>0.524</td>\n      <td>0.0358</td>\n      <td>0.00253</td>\n      <td>49</td>\n      <td>222.307</td>\n    </tr>\n    <tr>\n      <th>17384</th>\n      <td>The Weeknd</td>\n      <td>Heartless</td>\n      <td>Heartless</td>\n      <td>0.750</td>\n      <td>0.1980</td>\n      <td>0.531</td>\n      <td>0.1110</td>\n      <td>0.00632</td>\n      <td>60</td>\n      <td>200.080</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>9284</th>\n      <td>The Weeknd</td>\n      <td>After Hours</td>\n      <td>After Hours</td>\n      <td>0.572</td>\n      <td>0.1430</td>\n      <td>0.664</td>\n      <td>0.0305</td>\n      <td>0.08110</td>\n      <td>84</td>\n      <td>361.027</td>\n    </tr>\n    <tr>\n      <th>24689</th>\n      <td>The Weeknd</td>\n      <td>Starboy</td>\n      <td>Starboy</td>\n      <td>0.587</td>\n      <td>0.4860</td>\n      <td>0.679</td>\n      <td>0.2760</td>\n      <td>0.14100</td>\n      <td>84</td>\n      <td>230.453</td>\n    </tr>\n    <tr>\n      <th>24983</th>\n      <td>The Weeknd</td>\n      <td>After Hours</td>\n      <td>In Your Eyes</td>\n      <td>0.719</td>\n      <td>0.7170</td>\n      <td>0.667</td>\n      <td>0.0346</td>\n      <td>0.00285</td>\n      <td>91</td>\n      <td>237.520</td>\n    </tr>\n  </tbody>\n</table>\n\n\n</template>    \n\n</CodeCellTemplater>\n\n### Exercise 3: Plotting track features\n\n<CodeCellTemplater\n    :templateVars=\"$frontmatter.exercise_pars[2]\"\n    :status=\"nb.status\" :onExecute=\"nb.execute\" language=\"python\"\n    >\n\n    (track_features\n      >> filter(_.artist == \"${this.artist}\")\n      >> ggplot(aes(\"energy\", \"valence\", size = \"${this.size}\", color = \"album\", label = \"track_name\"))\n       + geom_point()\n       + geom_text(nudge_y = .05, size = 10)\n    )\n\n<template v-slot:output>\n\n![png](../build/01-example3-output.png)\n\n</template>\n\n</CodeCellTemplater>\n\n\n\n\n\n\n</Notebook>\n\n","chunk":"overview"},"allPosts":{"edges":[{"node":{"id":"c07baa2fd37433b322b7f771f1fbf360","path":"/intro-data-science/","title":"","chunk":"","headings":[],"fileInfo":{"directory":"intro-data-science"}},"next":{"path":"/intro-data-science/build/01-intro-data-science/"},"previous":null},{"node":{"id":"652e7785105c1207d315c249131f5b7f","path":"/intro-data-science/build/01-intro-data-science/","title":"Course welcome","chunk":"overview","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/01b-filter/"},"previous":{"path":"/intro-data-science/"}},{"node":{"id":"ba1582d1c6d27a522e11b03b97dff7b9","path":"/intro-data-science/build/01b-filter/","title":"Filter","chunk":"basics","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/01c-arrange/"},"previous":{"path":"/intro-data-science/build/01-intro-data-science/"}},{"node":{"id":"ad19f602c352dfe1d79fefe29da15f7d","path":"/intro-data-science/build/01c-arrange/","title":"Arrange","chunk":"basics","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/01d-mutate/"},"previous":{"path":"/intro-data-science/build/01b-filter/"}},{"node":{"id":"ab23fa24aeb29459d678ca42733d0864","path":"/intro-data-science/build/01d-mutate/","title":"Mutate","chunk":"basics","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/01f-wrap-up/"},"previous":{"path":"/intro-data-science/build/01c-arrange/"}},{"node":{"id":"cce2a731d9223cc9c35f6ffb69ea5176","path":"/intro-data-science/build/01f-wrap-up/","title":"Wrap up","chunk":"basics","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/readme/"},"previous":{"path":"/intro-data-science/build/01d-mutate/"}},{"node":{"id":"8b3cd3b360b88a353088b673cfcd8a66","path":"/intro-data-science/readme/","title":"","chunk":"","headings":[],"fileInfo":{"directory":"intro-data-science"}},"next":null,"previous":{"path":"/intro-data-science/build/01f-wrap-up/"}}]}},"context":{}}